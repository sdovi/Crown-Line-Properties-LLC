# Настройка Telegram бота для получения заявок

## Шаг 1: Создание бота

1. Откройте Telegram и найдите [@BotFather](https://t.me/botfather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям и придумайте имя для бота
4. После создания бота вы получите **токен** (выглядит как `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)
5. Сохраните этот токен

## Шаг 2: Создание группы

1. Создайте новую группу в Telegram
2. Добавьте вашего бота в группу как администратора
3. Дайте боту права на отправку сообщений

## Шаг 3: Получение Chat ID

### Способ 1: Через бота @userinfobot
1. Добавьте [@userinfobot](https://t.me/userinfobot) в вашу группу
2. Бот автоматически покажет Chat ID группы

### Способ 2: Через API
1. Отправьте любое сообщение в группу
2. Откройте в браузере: `https://api.telegram.org/bot<ВАШ_ТОКЕН>/getUpdates`
3. Найдите `"chat":{"id":-123456789}` - это и есть Chat ID группы
4. Для групп Chat ID будет отрицательным числом (например: `-1001234567890`)

## Шаг 4: Настройка переменных окружения

1. Создайте файл `.env.local` в корне проекта
2. Добавьте следующие переменные:

```env
TELEGRAM_BOT_TOKEN=ваш_токен_бота
TELEGRAM_CHAT_ID=ваш_chat_id_группы
```

**Пример:**
```env
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_CHAT_ID=-1001234567890
```

## Шаг 5: Проверка

1. Запустите проект: `npm run dev`
2. Заполните форму на сайте
3. Отправьте заявку
4. Проверьте группу в Telegram - должно прийти сообщение с данными заявки

## Устранение проблем

### Бот не отправляет сообщения
- Убедитесь, что бот добавлен в группу как администратор
- Проверьте, что Chat ID указан правильно (для групп он отрицательный)
- Убедитесь, что токен указан без лишних пробелов

### Ошибка 400 Bad Request
- Проверьте формат токена и Chat ID
- Убедитесь, что бот имеет права на отправку сообщений в группе

### Ошибка 403 Forbidden
- Бот не добавлен в группу или не является администратором
- Добавьте бота в группу и дайте ему права администратора

## Безопасность

⚠️ **Важно:** Никогда не публикуйте токен бота и Chat ID в публичных репозиториях!

- Файл `.env.local` уже добавлен в `.gitignore`
- Не коммитьте файлы с токенами в Git
- Используйте переменные окружения на продакшн серверах

